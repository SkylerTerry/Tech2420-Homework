<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>JavaScript Practice 1 - Image Swap</title>
<style type="text/css">
  body { background:#111; color:#fff; font-family: Arial, sans-serif; }
  #thumbs, #image {
    width: 680px; border: 1px solid #000; text-align: center;
    margin: 0 auto; background: #333; padding: 5px;
  }
  #thumbs { margin-top: 10px; }
  #thumbs img { border: 1px solid #000; margin: 5px; cursor: pointer; }
  #image { min-height: 480px; }
  .instructions { font-style: italic; color: #ccc; text-align:center; }
</style>

<script type="text/javascript">
  // Large image *base names* (no extension so we can try .jpg then .JPG)
  var imgBaseNames = [
    'CoupleSailingLg',
    'PigLg',
    'SaladLg',
    'StorkLg',
    'HamsterLg'
  ];

  var titleArray = [
    'Newlyweds Sailing',
    'Boy and His Pig',
    'Yummy Salad',
    'Stork at Sunset',
    'Hamster Hero'
  ];

  var baseFullSize = 'Images/FullSize/';

  function setLargeImage(baseName, title) {
    var theImage = document.getElementById('theImage');
    var textDiv  = document.getElementById('bottomText');

    // Try lowercase .jpg first
    var firstTry = baseFullSize + baseName + '.jpg';
    var fallback = baseFullSize + baseName + '.JPG';

    // Clear any previous handler to avoid loops
    theImage.onerror = null;

    // If .jpg fails, try .JPG once
    theImage.onerror = function () {
      theImage.onerror = function () {
        console.error('Image failed to load:', theImage.src);
        textDiv.innerHTML = '⚠️ Could not load: ' + theImage.src;
      };
      theImage.src = fallback;
    };

    theImage.src = firstTry;
    textDiv.innerHTML = title;
  }

  function swapImage(idx) {
    setLargeImage(imgBaseNames[idx], titleArray[idx]);
  }

  function preloadImages() {
    for (var i = 0; i < imgBaseNames.length; i++) {
      var a = new Image();
      a.src = baseFullSize + imgBaseNames[i] + '.jpg';
      var b = new Image();
      b.src = baseFullSize + imgBaseNames[i] + '.JPG';
    }
  }

  function init() {
    preloadImages();
    // set the default large image using the same logic as swaps
    swapImage(0);
  }
</script>
</head>

<body onload="init()">
  <h1 style="text-align:center;">Image Swap Example</h1>
  <p class="instructions">Mouse over a thumbnail to view the larger image and title.</p>

  <div id="thumbs">
    <img src="Images/Thumbnails/CoupleSailingSm.jpg" alt="Couple Sailing" onmouseover="swapImage(0)" />
    <img src="Images/Thumbnails/PigSm.jpg"           alt="Pig and Boy"     onmouseover="swapImage(1)" />
    <img src="Images/Thumbnails/SaladSm.jpg"         alt="Salad"           onmouseover="swapImage(2)" />
    <img src="Images/Thumbnails/StorkSm.jpg"         alt="Stork"           onmouseover="swapImage(3)" />
    <img src="Images/Thumbnails/HamsterSm.jpg"       alt="Hamster"         onmouseover="swapImage(4)" />
  </div>

  <div id="image">
    <!-- Large image is set by JS so the same path logic applies -->
    <img id="theImage" src="" alt="Large display" />
    <h3 id="bottomText">Loading…</h3>
  </div>
</body>
</html>
